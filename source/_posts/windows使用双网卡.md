---
title: windows使用双网卡
date: 2017-12-06 23:08:52
categories: tool
tags: windows
---

**外网地址设置**

本地IP地址：192.168.1.1 
子网掩码： 255.255.255.0，
网关： 192.168.1.1

**内网地址设置：**

本地IP地址：  192.168.42.129 
子网掩码：255.255.255.0 
网关：192.168.42.132

按正常的设置每块网卡的ip（或通过DHCP自动获取），再cmd下使用route print查看时会看到。即指向0.0.0.0的有两个网关，这样就会出现路由冲突，两个网络的访问都会出现问题。我们需要手动配置路由，才能实现同时访问两个网络。运行cmd（win7/8需要管理员权限）。



**第一步：** route delete 0.0.0.0   ::删除所有的0.0.0.0的路由

**第二步：**route -p add 0.0.0.0 mask 0.0.0.0 mask 192.168.1.1  ::添加0.0.0.0网络路由，这个是缺省时路由用192.168.1.1,加上-p的目的是设为静态（永久）路由，防止下次重起时配置消失。

**第三步：** route -p add 192.168.42.0 mask 255.255.255.0 192.168.42.132  ::添加192.168.42.0网段路由为192.168.42.132内网路由，可以根据需要调整ip段和子网掩码太到多网段内网路由的效果。